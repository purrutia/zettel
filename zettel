#!/usr/bin/sh

# zettel: creates a new zettel on Zettelkasten repository

ZETTAG=`utctag`
REPOSDIR="${HOME}/repos/github.com/${USER}"
ZETTELKASTENDIR="${REPOSDIR}/zettelkasten/"

main() {
    cd "${ZETTELKASTENDIR}"
    mkdir "${ZETTAG}"
    touch "${ZETTAG}/README.md"
    echo "---" > "${ZETTAG}/README.md"
    echo "zetteltag: ${ZETTAG}" >> "${ZETTAG}/README.md"
    echo "---\n" >> "${ZETTAG}/README.md"
    echo "# 'ZETTEL TITLE'" >> "${ZETTAG}/README.md"
    exec nvim "${ZETTAG}/README.md"
}

main
